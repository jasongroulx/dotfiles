- defaults:
    link:
      create: true
      relink: true
      force: true

- clean: ['~']


- create:
    - ../vim-install

- link:
    ../vim-install/colors: vim/colors

- shell: 

    - description: Adding .env variable for vim config
      command: [ -f ../.dotfile-env ] || touch ../.dotfile-env && echo 'export VIM_INSTALL=../vim-install' >> ../.dotfile-env && echo 'export DOTFILES=.' >> ../.dotfile-env

    - description: Installing vim-plug
      command: "[ -f ../vim-install/autoload/plug.vim ] || curl -fLo ../vim-install/autoload/plug.vim --create-dirs https://raw.githubusercontent.com/junegunn/vim-plug/master/plug.vim"

    - description: Installing vim plugins
      command: "vim +PlugInstall +qa"
